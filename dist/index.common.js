"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const _=require("mitt"),t=require("vue"),c=_();let p=0;const y=()=>{const o=p;return p+=1,o},d=()=>(o,i)=>{const e={...o,id:y(),group:o.group||""};return c.emit("notify",{notification:e,timeout:i}),()=>c.emit("close",e.id)},v="context",a=t.defineComponent({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(o,{emit:i}){const e=o,l=t.inject(v),s=t.reactive({notifications:[],timeouts:{}}),u=t.computed(()=>s.notifications.filter(n=>n.group===l.group)),g=t.computed(()=>l.position==="bottom"?[...u.value].slice(0,e.maxNotifications):[...u.value].reverse().slice(0,e.maxNotifications)),f=n=>{s.notifications.splice(s.notifications.findIndex(r=>r.id===n),1),clearTimeout(s.timeouts[n])},N=({notification:n,timeout:r})=>{s.notifications.push(n),s.timeouts[n.id]=window.setTimeout(()=>{f(n.id)},r||3e3)},T=n=>{i("close"),f(n)};return t.onMounted(()=>{c.on("notify",N),c.on("close",f)}),(n,r)=>(t.openBlock(),t.createBlock(t.TransitionGroup,{"enter-active-class":t.unref(u).length>1?[e.enter,e.moveDelay].join(" "):e.enter,"enter-from-class":e.enterFrom,"enter-to-class":e.enterTo,"leave-active-class":e.leave,"leave-from-class":e.leaveFrom,"leave-to-class":e.leaveTo,"move-class":e.move},{default:t.withCtx(()=>[t.renderSlot(n.$slots,"default",{notifications:t.unref(g),close:T})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),m=t.defineComponent({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(o){const i=o;return t.provide(v,{group:i.group,position:i.position}),(e,l)=>t.renderSlot(e.$slots,"default",{group:o.group})}});function x(o){o.config.globalProperties.$notify=d(),o.component("Notification",a),o.component("NotificationGroup",m),o.component("notification",a),o.component("notificationGroup",m)}const C={install:x};function h(){return t.defineComponent((i,{slots:e})=>()=>t.h(a,i,e))}const E=d();exports.Notification=a;exports.NotificationGroup=m;exports.createNotifier=d;exports.default=C;exports.defineNotificationComponent=h;exports.notify=E;
