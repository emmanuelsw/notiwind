"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const h=require("mitt"),e=require("vue"),c=h();let T=0;const y=()=>{const n=T;return T+=1,n},p=()=>(n,s)=>{const t={...n,id:y(),group:n.group||""};return c.emit("notify",{notification:t,timeout:s}),()=>c.emit("close",t.id)},N="context",a=e.defineComponent({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(n,{emit:s}){const t=n,u=e.inject(N),r=e.reactive({notifications:[],timeouts:{}}),l=e.computed(()=>r.notifications.filter(o=>o.group===u.group)),g=e.computed(()=>u.position==="bottom"?[...l.value]:[...l.value].reverse()),d=(o,i)=>{r.timeouts[o]=window.setTimeout(()=>{i!==-1&&f(o)},Math.max(i||3e3,0))},f=o=>{r.notifications.splice(r.notifications.findIndex(i=>i.id===o),1),clearTimeout(r.timeouts[o])},_=({notification:o,timeout:i})=>{r.notifications.length!==t.maxNotifications&&(r.notifications.push(o),d(o.id,i))},I=o=>{s("close"),f(o)},E=(o,i,v)=>{i?clearTimeout(r.timeouts[o]):d(o,v)};return e.onMounted(()=>{c.on("notify",_),c.on("close",f)}),(o,i)=>(e.openBlock(),e.createBlock(e.TransitionGroup,{"enter-active-class":e.unref(l).length>1?[t.enter,t.moveDelay].join(" "):t.enter,"enter-from-class":t.enterFrom,"enter-to-class":t.enterTo,"leave-active-class":t.leave,"leave-from-class":t.leaveFrom,"leave-to-class":t.leaveTo,"move-class":t.move},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default",{notifications:e.unref(g),close:I,hovering:E})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),m=e.defineComponent({inheritAttrs:!1,__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(n){const s=n;return e.provide(N,{group:s.group,position:s.position}),(t,u)=>e.renderSlot(t.$slots,"default",{group:n.group})}});function F(n){n.config.globalProperties.$notify=p(),n.component("Notification",a),n.component("NotificationGroup",m),n.component("notification",a),n.component("notificationGroup",m)}const M={install:F};function x(){return e.defineComponent((s,{slots:t})=>()=>e.h(a,s,t))}const C=p();exports.Notification=a;exports.NotificationGroup=m;exports.createNotifier=p;exports.default=M;exports.defineNotificationComponent=x;exports.notify=C;
